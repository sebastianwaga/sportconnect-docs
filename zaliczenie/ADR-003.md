# ADR-003: Wybór architektury i frameworka frontendowego

- **Status:** Zaakceptowana
- **Data:** 2025-10-17
- **Autorzy:** Adam Rudziewicz, Szymon Rogula, Sebastian Waga, Michał Żmuda

---

## 1. Kontekst

Wymaganie projektowe: "System powinien mieć wydzielone dwie części: system zarządzania aplikacją oraz API, odseparowany frontend dla użytkownika". Projekt wymaga interaktywnego interfejsu do matchowania sportowego, komunikacji z REST API oraz responsywnego designu. 

---

## 2. Rozważane opcje

### Architektura

#### Opcja 1: Separacja SPA + REST API
- **Zalety:**
  - [+] Niezależny rozwój frontendu i backendu
  - [+] Łatwiejsze skalowanie i różne deploymenty
  - [+] Jasny podział odpowiedzialności

- **Wady:**
  - [-] Wymaga konfiguracji CORS
  - [-] Dwa projekty do utrzymania

#### Opcja 2: Server-Side Rendering (Tradycyjny MVC / Razor Pages)
- **Zalety:**
  - [+] Jeden projekt, brak CORS

- **Wady:**
  - [-] Mniejsza interaktywność
  - [-] Większe obciążenie serwera



### Framework frontendowy

#### Opcja 1: Vue.js 3
- **Zalety:**
  - [+] Łagodna krzywa uczenia
  - [+] Single File Components (.vue)
  - [+] Reaktywność i ekosystem (Vue Router, Pinia) out-of-the-box
  - [+] Polska dokumentacja
  - [+] Mniejszy bundle size

- **Wady:**
  - [-] Mniejszy ekosystem niż React
  - [-] Mniej ofert pracy

#### Opcja 2: React 18
- **Zalety:**
  - [+] Największy ekosystem
  - [+] React Native dla mobilnej wersji
  - [+] Popularność na rynku pracy

- **Wady:**
  - [-] Wymaga wyboru wielu bibliotek
  - [-] Większa złożoność konfiguracji
  - [-] JSX mniej intuicyjny dla HTML

#### Opcja 3: Angular 17
- **Zalety:**
  - [+] Kompletny framework "batteries included"
  - [+] TypeScript i DI podobne do ASP.NET

- **Wady:**
  - [-] Najstromsza krzywa uczenia
  - [-] Rozwlekła składnia, wymaga nauki RxJS
  - [-] Największy bundle size

---

## 3. Decyzja

Wybieramy **architekturę SPA + REST API** z **Vue.js 3** jako framework frontendowy.

---

## 4. Uzasadnienie

**Architektura:** Separacja SPA+API spełnia wymaganie projektowe rozdzielenia systemu i odpowiada podziałowi zespołu. Umożliwia niezależny development i ewentualną przyszłą aplikację mobilną.

**Vue.js 3:** Wybrany ze względu na łagodną krzywą uczenia, kompletny ekosystem (Vue Router, Pinia) wystarczający dla skali SportConnect, oraz produktywność dzięki Single File Components i reaktywności out-of-the-box. React odrzucony z powodu konieczności wyboru wielu bibliotek zwiększających complexity. Angular przeskalowany - jego złożoność (moduły, RxJS, DI) spowolniłaby development.

**Implementacja:** Backend (kontrolery Auth/Users/Sports) komunikuje się z SPA przez REST API z JWT w nagłówku Authorization. Vue Router obsługuje routing client-side, Pinia zarządza stanem. CORS skonfigurowany na backendzie tak, aby akceptował żądania z domeny aplikacji frontendowej (w środowisku deweloperskim: localhost).

---

## 5. Konsekwencje

### Pozytywne
- [+] Równoległy development bez blokowania
- [+] Testowanie API przez Swagger UI
- [+] Szybki start dzięki prostocie Vue.js
- [+] Mniejszy bundle, szybsze ładowanie

### Negatywne
- [-] Synchronizacja kontraktów API (DTOs)
- [-] Konfiguracja CORS
- [-] Mniejsza rozpoznawalność Vue.js na rynku pracy
